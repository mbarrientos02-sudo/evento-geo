<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Convivencia con Geo</title>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/qrcodejs/1.0.0/qrcode.min.js"></script>
    <style>
        :root { --primary: #2c3e50; --accent: #d35400; --bg: #fdfaf6; }
        body { font-family: sans-serif; margin: 0; background: var(--bg); text-align: center; color: #333; }
        .container { max-width: 450px; margin: auto; background: white; padding: 20px; box-shadow: 0 4px 10px rgba(0,0,0,0.1); }
        .hero-img { width: 140px; height: 140px; border-radius: 50%; object-fit: cover; border: 4px solid var(--primary); margin-top: 10px; }
        .info-box { background: #f8f9fa; padding: 15px; border-radius: 10px; text-align: left; margin: 20px 0; border-left: 5px solid var(--primary); }
        .menu-img { width: 100%; border-radius: 12px; margin: 15px 0; }
        .btn { display: block; background: #25d366; color: white; padding: 15px; text-decoration: none; border-radius: 8px; font-weight: bold; margin: 10px 0; border: none; width: 100%; font-size: 16px; }
        .btn-waze { background: #33ccff; }
        #ticket { display: none; border: 3px dashed #333; padding: 20px; margin-top: 20px; background: #fff; }
        .price-notice { font-size: 1.1em; font-weight: bold; color: #c0392b; margin: 15px 0; }
        input { width: 100%; padding: 12px; margin: 10px 0; border: 1px solid #ccc; border-radius: 5px; box-sizing: border-box; }
        #qrcode { display: flex; justify-content: center; margin: 20px 0; }
    </style>
</head>
<body>

<div class="container">
    <img src="https://i.ibb.co/pPz8qL9/geo-photo.jpg" class="hero-img">
    <h1>Convivencia con Geo</h1>
    
    <div class="info-box">
        <strong>üìÖ Fecha:</strong> Lunes 19 de enero, 2026<br>
        <strong>‚è∞ Hora:</strong> 7:00 p.m.<br>
        <strong>üìç Direcci√≥n:</strong> Lote 4-5, Residenciales Maya, Zona 18
    </div>

    <a href="https://www.google.com/maps?q=14.673417,-90.458558" class="btn">üìç Abrir en Google Maps</a>
    <a href="https://waze.com/ul?ll=14.673417,-90.458558&navigate=yes" class="btn btn-waze">üöó Abrir en Waze</a>

    <hr>
    <h3>Men√∫ del Evento</h3>
    <img src="https://images.unsplash.com/photo-1544025162-d76694265947" class="menu-img">
    <p>Arroz con ma√≠z dulce, vegetales salteados a la vinagreta y carne de res asada en salsa de champi√±ones strogonoff.</p>

    <div class="price-notice">
        [1 cena gratis por invitado, si desea repetir el plato tendr√° un costo de Q75.00]
    </div>

    <div id="form-area">
        <h3>Reg√≠strate (Cupo: 40 personas)</h3>
        <input type="text" id="nombre" placeholder="Nombre completo">
        <input type="number" id="wa" placeholder="Primeros 4 d√≠gitos de WhatsApp">
        <button class="btn" style="background:var(--primary)" onclick="crearTicket()">Generar mi Ticket</button>
    </div>

    <div id="ticket">
        <h2 style="color:var(--accent)">üéüÔ∏è MI TICKET</h2>
        <p><strong>Invitado:</strong> <span id="guest-name"></span></p>
        <div id="qrcode"></div>
        <p>El Total ser√° enviado al organizador: +502 36574097</p>
        <button class="btn" onclick="enviarWA()">‚úÖ Confirmar por WhatsApp</button>
    </div>
</div>

<script>
    function crearTicket() {
        const nom = document.getElementById('nombre').value;
        const tel = document.getElementById('wa').value;

        if(!nom || tel.length < 4) return alert("Completa tus datos");

        document.getElementById('form-area').style.display = 'none';
        document.getElementById('ticket').style.display = 'block';
        document.getElementById('guest-name').innerText = nom;

        // Generar QR de un solo uso
        const uniqueID = nom.substring(0,3).toUpperCase() + tel + Math.floor(Math.random()*1000);
        new QRCode(document.getElementById("qrcode"), {
            text: "VALIDO-EVENTO-GEO-" + uniqueID,
            width: 160, height: 160
        });
    }

    function enviarWA() {
        const nom = document.getElementById('guest-name').innerText;
        const msg = `¬°Hola Geo! Confirmo mi asistencia para el 19 de enero. Mi nombre es ${nom}. [1 cena gratis por invitado, si desea repetir el plato tendr√° un costo de Q75.00]`;
        window.open(`https://wa.me/50236574097?text=${encodeURIComponent(msg)}`, '_blank');
    }
</script>

</body>
</html>

